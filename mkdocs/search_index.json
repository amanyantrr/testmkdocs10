{
    "docs": [
        {
            "location": "/", 
            "text": "SW startup guide for VIBE\n\n\nVIBE IoT platform is a unique combination of community famous Beaglebone Black with industry standard modem connectivity for WAN. Below, we describe how to set up VIBE and the associated software. \n\n\nOverview\n\n\nVIBE is shipped with its onboard 4GB eMMC flashed with latest Debian Wheezy console image with kernel 3.8.13-bone70. This pre-flashed image is preconfigured with all the settings and with the kernel patches to use all the features on VIBE namely 3G/2G modem, Two USB host port, RTC, GPS(if present), Ethernet Reset over GPIO.\n\n\nA prebuilt SD Card image(3.65GB) is also available for download as \n\nVIBE Debian Wheezy SD card image\n\n\nFollowing kernel patches/software configurations are included in the VIBE images :\n\n\n\n\nRTC enabled in kernel\n\n\nUSB0 OTG behaviour changed from client to host\n\n\nHDMI audio disabled to use Ethernet PHY reset over GPIO\n\n\nDevice tree overlay file to use 1PPS from GPS module at a GPIO\n\n\nUSB drivers for 3G modem included in kernel\n\n\nDevice tree overlay files for UART1 and UART4\n\n\n\n\nHardware Configurations\n\n\nVIBE stands for VAYU Integrated Beaglebone Black. It operates similar to the Beaglebone black with VAYU M2M cape integrated on to it in a single board.\n\n\nFollowing images give a proper understanding of the VIBE : \n\n\n\n\n\n\nBeaglebone Black section\n\n\n\n\n\n\nProcessor :\n VIBE uses TI's Sitara ARM cortex-A8 AM3352 1 Ghz processor(AM3352BZCZ100) which is different from 1GHz AM3358(AM3358BZCZ100) used in original Beaglebone Black. The differences between the two being AM3352 does not have PRU subsystem, EtherCAT and SGX Graphics support.\n\n\n\n\n\n\nUSB host ports :\n VIBE contains two USB 2.0 HS host ports with type A connector whereas original Beaglebone black has only one. VIBE has reconfigured USB0 OTG port as self powered USB hub host ports. So there is no USB client port. USB1 OTG port remains configured as USB 2.0 Host port and used for interface with 3G modem.\n\n\n\n\n\n\nBattery :\n VIBE can be powered up by 3.7V Li-ion rechargeable battery with automatic backup switch over circuit from 5V DC input and can power up the whole VIBE including 3G/2G modem, both the USB Host ports and HDMI. Original Beaglebone black also supports 3.7V Li-ion Rechargeable battery but with limited functionality of USB host port and HDMI unavailable.\n\n\n\n\n\n\nEthernet reset :\n VIBE includes a standalone ethernet reset circuit over GPIO . This addresses a bug in the original beaglebone black where the Ethernet PHY is not detected at bootup and board had to be reset (http://bugs.elinux.org/issues/67).\n\n\n\n\nIn VIBE, the ethernet phy can be individually reset separate from the whole board by toggling gpio GPIO3_21(GPIO 117).\n\n\n\n\nTo use the GPIO ethernet reset feature, HDMI audio has to be disabled in device tree and then GPIO1_27(GPIO 59) has to be pulled low so that GPIO3_21 is available for use. Also, HDMI is an optional feature on VIBE.\n\n\n\n\n\n\nWatchdog Timer :\n VIBE includes a watchdog timer circuit which can generate an external reset to PMIC and address the Under Voltage Lockout(UVLO) issue faced in Original Beaglebone Black. If the PMIC TPS65217C enters in UVLO and is not resolved within 10s, watchdog timer will generate an external reset to PMIC.\n\n\n\n\n\n\nReal Time Clock :\n VIBE has an accurate Real Time clock with an integrated temperature compensated oscillator and crystal for time keeping operations.\n\n\n\n\nIt includes a 3V non-chargeable coin cell ( CR1025/CR1216/CR1220) for standby power.\n\n\nRTC (DS3231) is interfaced over I2C2 to AM3352 processor. Its registers can be read to indirectly serve as Temperature sensor too.\n\n\n\n\nRTC IC generates a 1Hz Square wave signal. This signal is available(optionally) on a uFL connector and GPIO27 when GPS module is not present.\n\n\n\n\n\n\nExtra UART0\n header at the edge of the board for easy handling and convenience.\n\n\n\n\n\n\nFully compatible Beaglebone Black expansion header. Most of the LCD capes are compatible with VIBE.\n\n\n\n\n\n\nRadio section\n\n\nVIBE has an option between 2G/GPRS modem and 3G/HSPA (3G/CDMA) modem for WAN connectivity.\n\n\n\n\n2G modem :\n The 2G modem is interfaced via UART to UART1 port of the AM3352 processor on VIBE. There are following versions for different regions :\n\n\n\n\nQuad-Band(2G-Q) :\n For Global connectivity covering bands GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 85.6kbps DL/42.8kbps UL.\n\n\nDual-Band(2G-D) :\n For Asia/Europe connectivity covering bands EGSM 900/DCS 1800 with data rates of 85.6kbps DL/42.8kbps UL.\n\n\n\n\n3G modem :\n The 3G modem is interfaced via USB2.0 HS on USB1 Host port of AM3352 processor on VIBE. \n\n\n\n\nThere are following versions for different regions in both GSM/HSPA and CDMA/EVDO :\n\n\n3G HSPA-A (3GH-A) :\n For Asia/Europe connectivity covering bands WCDMA 2100 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.\n\n\n3G HSPA-B (3GH-B) :\n For Americas connectivity covering bands WCDMA 2100/850 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.\n\n\n3G HSPA-C (3GH-C) :\n For Asia/Europe/Australia Connectivity covering bands WCDMA 2100/900 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.\n\n\n3G HSPA-D (3GH-D) :\n For Global connectivity covering bands WCDMA 850/1900/2100 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 3.6Mbps DL/384kbps UL.\n\n\n3G CDMA (3GC-A) :\n For Global connectivity covering bands CDMA 800/1900 with data rates of 3.1Mbps DL/1.8Mbps UL.\n\n\n3GH-A/B/C and 3GC-A modems create ports /dev/ttyUSB0, /dev/ttyUSB1 and /dev/ttyUSB2 with ports assigned as :\n\n\na. /dev/ttyUSB0 : Modem port and AT commands port\n\n\nb. /dev/ttyUSB2 : AT commands port\n\n\n3GH-D modem creats ports /dev/ttyUSB0, /dev/ttyUSB1, /dev/ttyUSB2, /dev/ttyUSB3 with ports assigned as :\n\n\na. /dev/ttyUSB1 : AT commands port\n\n\nb. /dev/ttyUSB3 : Modem port and AT commands port\n\n\nBoth 2G/3G modems have following control interfaces :\n\n\na. \nModem Hard reset\n over GPIO - GPIO44\n\n\nb. \nModem Hard reset\n over push button switch - S5\n\n\nc. \nModem On/Off\n over GPIO - GPIO45\n\n\nd. \nModem On/Off\n over push button switch - S4\n\n\ne. \nNetlight/Signal LED\n - D15 (this feature is optional in 3GH-A/B/C and 3GC-A modules)\n\n\nf. \n3G Modem Antenna\n - On-module GSC connector\n\n\ng. \n2G Modem Antenna\n - uFL connector\n\n\nh. \n3G Modem Wakeup_out/ 2G/3G UART RI \n- GPIO26\n\n\ni. Modem Interface - 2G : UART1 (rx,tx) ; 3G : USB2.0 HS USB1 (and UART1 - optional)\n\n\nj. \nSIM/RUIM card\n - 6 pin Push-pull mini-sim card connector\n\n\nk. Audio - 3.5mm TRRS Analog stereo audio and mic jack(optional)\n\n\nAdditional interfaces for 2G modem only :\n\n\nl. UART RTS : I2C1_SCL(UART1_RTS)\n\n\nm. UART CTS : I2C1_SDA(UART1_CTS)\n\n\nn. UART DTR : GPIO61\n\n\no. UART DCD : GPIO65\n\n\np. 2G Modem Status GPIO : GPIO47\n\n\nq. 2G Modem Status LED : D14\n\n\nr. 2G Debug UART : on Extra UART0 header\n\n\n\n\nDefault values of GPIO44 and GPIO45 is high.\n\n\nUSB drivers for the modem (21f5:2012, 21f5:2009, 19d2:ffeb, 19d2:fffe) should be included in the kernel. We provide pre-compiled images with USB drivers included in the kernel.\n\n\n\n\nGPS section\n\n\nVIBE provides GPS module as an add-on feature to 3G/2G modem and/or as a standalone feature.\n\n\nGPS module is interfaced on VIBE over UART at UART4 port. NMEA-0183 messages from the GPS modules can be accessed at /dev/ttyO4 port at baud rate of 19200.\n\n\nFollowing are the hardware interfaces of GPS module on VIBE :\n\n\n\n\nModule Interface : UART4(rx,tx) 19200 raw\n\n\nModule Reset over GPIO : GPIO46\n\n\nModule Reset over push button : S6\n\n\n1 PPS output over GPIO : GPIO27\n\n\n1 PPS output over uFL connector : P14\n\n\nGPS Fix Led : D16\n\n\nGPS module Power Led (3.3V) : D17\n\n\nGPS Antenna : uFL connector P13\n\n\nBattery backup for Hot start : 3V coin cell\n\n\n\n\n\n GPIO46 should be set to high as Default state for the GPS module to function\n\n\n\n\n Keep the GPS antenna under open sky for better operations and depending on whether GPS module had a cold, warm or hot start, GPS fix LED will soon start blinking at 1Hz.\n\n\nGetting started\n\n\nSetting up the system\n\n\n\n\nPlace 3V coin cell(supplied with VIBE) in the holder for RTC and/or Navika hot start feature.\n\n\nPlace a data enabled mini-SIM in the SIM card slot and connect a GSM antenna to the respective 2G/3G antenna connector.\n\n\nEnsure that the power jumpers J2 and J3(ignore if battery feature present) on VIBE are in place and eeprom address set at 0x54 using dip switch S7\n\n\nPower up VIBE using the 5V,5A DC adapter(supplied with VIBE).\n\n\nAfter powering up and bootup, ssh into VIBE by any of the following option  :\n\n\n\n\na. Through 3.3V UART to USB cable at either of UART0 headers.\n\n\nb. Through Ethernet Cable (at IP 192.168.1.150 for preflashed eMMC images)\n\n\nc. Through HDMI monitor and USB keyboard (when HDMI feature present)\n\n\nUsername for root login is root and password is root. For user login, username is debian and password is temppwd.\n\n\na. Through 3.3V UART to USB cable\n\n\nThis gives debug-console access to VIBE. Once login prompt comes, use the above provided username and password to login. These cables are available as an accessory on Yantrr\n\n(USB UART adapter with jumper wires)\n\n and further options are also listed here.\n\n\nDownload link for Windows drivers for the adapter - \n\nclick here\n\n\nb. Through Ethernet cable\n\n\nPre-flashed image on the emmc has the fixed IP address as 192.168.1.150 with gateway 192.168.1.1 SSH into VIBE over ethernet :\n\n\n    ssh -l root 192.168.1.150\n\n\n\nFor more help please \n\nfollow.\n\n\nc. Through HDMI Display and USB Keyboard\n\n\nThis option is available for use in VIBE with HDMI option. Default VIBE comes without HDMI configuration.\n\n\nTo ssh into VIBE using this method, a micro HDMI to HDMI cable (click here), a display with HDMI port and a USB Keyboard is needed. Setup the VIBE with the micro HDMI to HDMI cable, Display and USB keyboard before powering it up. Once VIBE starts booting, a login prompt comes within some time. Use the username and password as provided above to login.\n\n\nAfter logging into VIBE, we have to set some GPIOs and effect some configurations so that it can be used desirably. In pre-flashed image, all these settings are pre defined and configured once VIBE boots up successfully.\n\n\nThe set of commands executed at bootup in pre-flashed image are in this file :\n\n\n    cd ~\n    nano boot_run.sh\n\n\n\nBasically after logging into the VIBE, GPIOs 44, 45 and 46 have to be set high as output.\n\n\n    cd /sys/class/gpio/\n    echo 44 \n export\n    echo 45 \n export\n    echo 46 \n export\n    cd gpio44\n    echo \u201chigh\u201d \n direction\n    cd ..\n    cd gpio45\n    echo \u201chigh\u201d \n direction\n    cd ..\n    cd gpio46\n    echo \"high\" \n direction\n\n\n\nNOTE :\n In pre-flashed image, for ease of use of regular commands with the GPIOs, functions have been created: pinexp, setout, setin, pinread.\n\n\n    pinexp 45          //export gpio45 to userspace\n    pinread 45         //read value of gpio45\n    setin 45           //set gpio45 in input mode\n    setout 45 high     //set gpio45 in output mode as high value\n    setout 45 low      //set gpio45 in output mode as low value\n\n\n\nPower On Modem\n\n\n\n\nFor 2GQ-A,2GP-A,3GH-A/B/C and 3GC-A types :\n\n\n\n\nModem can be powered on by providing a low level pulse at ON/OFF Pin for 3-4s when the module is off. It can be achieved by either using the push button switch S4 or GPIO45.\n\n\nGPIO45 should always be in default High state.\n\n\n\n\n\n\n3G Modems are configured to be turned on after bootup in pre-flashed image or sd card image provided by us. 2G modems need to be issued a Power-On cycle.\n\n\ncd /sys/class/gpio/\necho 45 \n export\ncd gpio45\necho \"high\" \n direction\nsleep 4\necho \"low\" \n direction\nsleep 4\necho \"high\" \n direction\n\n\n\n\n\n\n\nAfter some time, LED D15 should start blinking as to indicate modem has turned on (this feautre is optional in 3GH-A/B/C and 3GC-A modules).\n\n\n\n\n\n\nFor 3GH-D type : \n\n\n\n\n\n\nFor complete instructions for 3GH-D type of modems \n\nplease follow.\n\n\nFollowing sections are for 3G modem only (for 2G skip to next section) :\n\n\nOnce 3G Modem is properly turned on, check that modem is visible on the USB bus by issuing following command:\n\n\n    lsusb\n    Bus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\n    Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n    Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n    Bus 001 Device 034: ID 21f5:2012 \n    Bus 001 Device 007: ID 046d:0825 Logitech, Inc. Webcam C270\n\n\n\n*\nSystem messages (logs) show what happened when 3G modem was turned on and its drivers were assigned\n8\n\n\n    dmesg | grep -i usb\n\n    usb 1-1.1: New USB device found, idVendor=21f5, idProduct=2012\n    usb 1-1.1: New USB device strings: Mfr=3, Product=2, SerialNumber=4\n    usb 1-1.1: Product: StrongRising Technologies\n    usb 1-1.1: Manufacturer: Modem\n    usb 1-1.1: SerialNumber: 000000000002\n    usb 1-1.1: usb_probe_device\n    usb 1-1.1: configuration #1 chosen from 1 choice\n    usb 1-1.1: adding 1-1.1:1.0 (config #1, interface 0)\n    usbserial_generic 1-1.1:1.0: usb_probe_interface\n    usbserial_generic 1-1.1:1.0: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.0: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.0: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.0: generic converter detected\n    usb 1-1.1: generic converter now attached to ttyUSB0\n    usb 1-1.1: adding 1-1.1:1.1 (config #1, interface 1)\n    usbserial_generic 1-1.1:1.1: usb_probe_interface\n    usbserial_generic 1-1.1:1.1: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.1: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.1: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.1: generic converter detected\n    usb 1-1.1: g'''eneric converter now attached to ttyUSB1'''\n    usb 1-1.1: adding 1-1.1:1.2 (config #1, interface 2)\n    usbserial_generic 1-1.1:1.2: usb_probe_interface\n    usbserial_generic 1-1.1:1.2: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.2: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.2: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.2: generic converter detected\n    usb 1-1.1: '''generic converter now attached to ttyUSB2'''\n\n\n\nWhen usi\nng Default debian image without USB drivers for 3G modem, issue following command:\n\n\n    modprobe usbserial vendor=0x21f5 product=0x2012\n\n\n\nIt is recommended to add a proper driver for the modem in kernel. The generic driver is not reliable.\n\n\nNote :\n If the modem is not visible after the these steps, please cycle through the turn on-off procedure for the modem\n\n\nNote :\n If the modem is not visible after these steps or any issues are faced while initializing the modem please contact Yantrr Support (support@yantrr.com) with the above log messages (dmesg | grep \u2013I usb or /var/log/syslog).\n\n\nUnderstanding the ports for 2G Modem on VIBE-2G\n\n\nThe 2G modem on VIBE-2G OR VIBE-2G-GPS/TIM board is interfaced via UART1.\n\n\nThe 2G modem is accessible over the UART1 port, /dev/ttyO1.\n\n\nIn default Debian images, UART1 port's device tree has to be loaded into the kernel using the following command :\n\n\n    cd /lib/firmware\n    echo BB-UART1 \n /sys/devices/bone-capemgr.*/slots\n\n\n\nAll the AT Commands can be issued to the 2G modem on ttyO1 port with the baud rate of 115200, 8N1. The UART port of modem is available at one instant only, either it is establishing ppp connection or AT commands are executed on it.\n\n\nUnderstanding the ports for 3G Modem on VIBE-3G\n\n\nThe 3G modem on VIBE-3G OR VIBE-3G-GPS/TIM board is interfaced via USB2.0 HS to USB1 host port.\n\n\nVIBE-3GH-A/B/C and 3GC-A modmes enumerate following serial to USB ports when proper USB drivers are present:\n\n\n    /dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2\n\n\n\n\n\nttyUSB0 is Data port \n AT commands for modem, use this for the WVDIAL or PPPd to establish data connection\n\n\nttyUSB1 is the diagnostics port for the Firmware upgrade\n\n\nttyUSB2 is the AT Commands port only. \n\n\n\n\nNote :\nThese /dev/ttyUSB ports are only created if proper drivers are present or when \u201cmodprobe usbserial\u201d command is issued. Pre-flashed image includes all the USB drivers.\n\n\nNote :\n Both ttyUSB0 and ttyUSB2 take the AT commands, but ttyUSB0 port is also a Data communications port so for all intended purposes of issuing AT commands use ttyUSB2 port(PCUI port).\n\n\nPower Off Modem\n\n\nThe modem can be powered off by providing a low level pulse at ON/OFF pin for 3-4s when the module is On. It can be achieved by either using the push button switch S4 or GPIO45.\n\n\n    cd /sys/class/gpio/\n    echo 45 \n export\n    cd gpio45\n    echo \"high\" \n direction\n    sleep 4\n    echo \"low\" \n direction\n    sleep 4\n    echo \"high\" \n direction\n\n\n\nModem can also be turned off by issuing following AT commands on port /dev/ttyUSB2 for 3GH-A/B/C type modems.\n\n\n    AT+ZPWROFF\n\n\n\nSoft Resetting the Modem\n\n\nSteps -\n\n\n\n\nPower Off the Modem.\n\n\nWait for 1-2s at least.\n\n\nPower on the modem. \n\n\n\n\nHard Resetting the Modem\n\n\nThere might arise situations where modem does not seem to be responding to any commands issued on AT commands port or it cannot be turned on/off. In such scenarios, issue hard reset to the modem. It can be done by either toggling Switch S5 for at least 100ms or pulling GPIO44 low for 1s and then setting it high again.\n\n\n    cd /sys/class/gpio/\n    cd gpio44\n    echo \"low\" \n direction\n    sleep 1\n    echo \"high\" \n direction\n\n\n\nNote :\n Please use hard reset conservatively. Soft reset should be preferred under most conditions. \n\n\n3GH-D modems\n\n\nFor detailed instructions wrt 3GH-D type of modems \n\nplease follow.\n\n\nAT Commands Manual\n\n\nThe AT Command Manual for the 3GH-A/B/C and 3GC-A type Modules can be downloaded from \n\nWCDMA here\n\n\nThe AT Command Manual for the 3GH-D Module is available on request. Contact Yantrr support.", 
            "title": "Home"
        }, 
        {
            "location": "/#sw-startup-guide-for-vibe", 
            "text": "VIBE IoT platform is a unique combination of community famous Beaglebone Black with industry standard modem connectivity for WAN. Below, we describe how to set up VIBE and the associated software.", 
            "title": "SW startup guide for VIBE"
        }, 
        {
            "location": "/#overview", 
            "text": "VIBE is shipped with its onboard 4GB eMMC flashed with latest Debian Wheezy console image with kernel 3.8.13-bone70. This pre-flashed image is preconfigured with all the settings and with the kernel patches to use all the features on VIBE namely 3G/2G modem, Two USB host port, RTC, GPS(if present), Ethernet Reset over GPIO.  A prebuilt SD Card image(3.65GB) is also available for download as  VIBE Debian Wheezy SD card image  Following kernel patches/software configurations are included in the VIBE images :   RTC enabled in kernel  USB0 OTG behaviour changed from client to host  HDMI audio disabled to use Ethernet PHY reset over GPIO  Device tree overlay file to use 1PPS from GPS module at a GPIO  USB drivers for 3G modem included in kernel  Device tree overlay files for UART1 and UART4", 
            "title": "Overview"
        }, 
        {
            "location": "/#hardware-configurations", 
            "text": "VIBE stands for VAYU Integrated Beaglebone Black. It operates similar to the Beaglebone black with VAYU M2M cape integrated on to it in a single board.  Following images give a proper understanding of the VIBE :", 
            "title": "Hardware Configurations"
        }, 
        {
            "location": "/#beaglebone-black-section", 
            "text": "Processor :  VIBE uses TI's Sitara ARM cortex-A8 AM3352 1 Ghz processor(AM3352BZCZ100) which is different from 1GHz AM3358(AM3358BZCZ100) used in original Beaglebone Black. The differences between the two being AM3352 does not have PRU subsystem, EtherCAT and SGX Graphics support.    USB host ports :  VIBE contains two USB 2.0 HS host ports with type A connector whereas original Beaglebone black has only one. VIBE has reconfigured USB0 OTG port as self powered USB hub host ports. So there is no USB client port. USB1 OTG port remains configured as USB 2.0 Host port and used for interface with 3G modem.    Battery :  VIBE can be powered up by 3.7V Li-ion rechargeable battery with automatic backup switch over circuit from 5V DC input and can power up the whole VIBE including 3G/2G modem, both the USB Host ports and HDMI. Original Beaglebone black also supports 3.7V Li-ion Rechargeable battery but with limited functionality of USB host port and HDMI unavailable.    Ethernet reset :  VIBE includes a standalone ethernet reset circuit over GPIO . This addresses a bug in the original beaglebone black where the Ethernet PHY is not detected at bootup and board had to be reset (http://bugs.elinux.org/issues/67).   In VIBE, the ethernet phy can be individually reset separate from the whole board by toggling gpio GPIO3_21(GPIO 117).   To use the GPIO ethernet reset feature, HDMI audio has to be disabled in device tree and then GPIO1_27(GPIO 59) has to be pulled low so that GPIO3_21 is available for use. Also, HDMI is an optional feature on VIBE.    Watchdog Timer :  VIBE includes a watchdog timer circuit which can generate an external reset to PMIC and address the Under Voltage Lockout(UVLO) issue faced in Original Beaglebone Black. If the PMIC TPS65217C enters in UVLO and is not resolved within 10s, watchdog timer will generate an external reset to PMIC.    Real Time Clock :  VIBE has an accurate Real Time clock with an integrated temperature compensated oscillator and crystal for time keeping operations.   It includes a 3V non-chargeable coin cell ( CR1025/CR1216/CR1220) for standby power.  RTC (DS3231) is interfaced over I2C2 to AM3352 processor. Its registers can be read to indirectly serve as Temperature sensor too.   RTC IC generates a 1Hz Square wave signal. This signal is available(optionally) on a uFL connector and GPIO27 when GPS module is not present.    Extra UART0  header at the edge of the board for easy handling and convenience.    Fully compatible Beaglebone Black expansion header. Most of the LCD capes are compatible with VIBE.", 
            "title": "Beaglebone Black section"
        }, 
        {
            "location": "/#radio-section", 
            "text": "VIBE has an option between 2G/GPRS modem and 3G/HSPA (3G/CDMA) modem for WAN connectivity.   2G modem :  The 2G modem is interfaced via UART to UART1 port of the AM3352 processor on VIBE. There are following versions for different regions :   Quad-Band(2G-Q) :  For Global connectivity covering bands GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 85.6kbps DL/42.8kbps UL.  Dual-Band(2G-D) :  For Asia/Europe connectivity covering bands EGSM 900/DCS 1800 with data rates of 85.6kbps DL/42.8kbps UL.   3G modem :  The 3G modem is interfaced via USB2.0 HS on USB1 Host port of AM3352 processor on VIBE.    There are following versions for different regions in both GSM/HSPA and CDMA/EVDO :  3G HSPA-A (3GH-A) :  For Asia/Europe connectivity covering bands WCDMA 2100 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.  3G HSPA-B (3GH-B) :  For Americas connectivity covering bands WCDMA 2100/850 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.  3G HSPA-C (3GH-C) :  For Asia/Europe/Australia Connectivity covering bands WCDMA 2100/900 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 7.2Mbps DL/5.76Mbps UL.  3G HSPA-D (3GH-D) :  For Global connectivity covering bands WCDMA 850/1900/2100 and GSM 850/EGSM 900/DCS 1800/PCS 1900 with data rates of 3.6Mbps DL/384kbps UL.  3G CDMA (3GC-A) :  For Global connectivity covering bands CDMA 800/1900 with data rates of 3.1Mbps DL/1.8Mbps UL.  3GH-A/B/C and 3GC-A modems create ports /dev/ttyUSB0, /dev/ttyUSB1 and /dev/ttyUSB2 with ports assigned as :  a. /dev/ttyUSB0 : Modem port and AT commands port  b. /dev/ttyUSB2 : AT commands port  3GH-D modem creats ports /dev/ttyUSB0, /dev/ttyUSB1, /dev/ttyUSB2, /dev/ttyUSB3 with ports assigned as :  a. /dev/ttyUSB1 : AT commands port  b. /dev/ttyUSB3 : Modem port and AT commands port  Both 2G/3G modems have following control interfaces :  a.  Modem Hard reset  over GPIO - GPIO44  b.  Modem Hard reset  over push button switch - S5  c.  Modem On/Off  over GPIO - GPIO45  d.  Modem On/Off  over push button switch - S4  e.  Netlight/Signal LED  - D15 (this feature is optional in 3GH-A/B/C and 3GC-A modules)  f.  3G Modem Antenna  - On-module GSC connector  g.  2G Modem Antenna  - uFL connector  h.  3G Modem Wakeup_out/ 2G/3G UART RI  - GPIO26  i. Modem Interface - 2G : UART1 (rx,tx) ; 3G : USB2.0 HS USB1 (and UART1 - optional)  j.  SIM/RUIM card  - 6 pin Push-pull mini-sim card connector  k. Audio - 3.5mm TRRS Analog stereo audio and mic jack(optional)  Additional interfaces for 2G modem only :  l. UART RTS : I2C1_SCL(UART1_RTS)  m. UART CTS : I2C1_SDA(UART1_CTS)  n. UART DTR : GPIO61  o. UART DCD : GPIO65  p. 2G Modem Status GPIO : GPIO47  q. 2G Modem Status LED : D14  r. 2G Debug UART : on Extra UART0 header   Default values of GPIO44 and GPIO45 is high.  USB drivers for the modem (21f5:2012, 21f5:2009, 19d2:ffeb, 19d2:fffe) should be included in the kernel. We provide pre-compiled images with USB drivers included in the kernel.", 
            "title": "Radio section"
        }, 
        {
            "location": "/#gps-section", 
            "text": "VIBE provides GPS module as an add-on feature to 3G/2G modem and/or as a standalone feature.  GPS module is interfaced on VIBE over UART at UART4 port. NMEA-0183 messages from the GPS modules can be accessed at /dev/ttyO4 port at baud rate of 19200.  Following are the hardware interfaces of GPS module on VIBE :   Module Interface : UART4(rx,tx) 19200 raw  Module Reset over GPIO : GPIO46  Module Reset over push button : S6  1 PPS output over GPIO : GPIO27  1 PPS output over uFL connector : P14  GPS Fix Led : D16  GPS module Power Led (3.3V) : D17  GPS Antenna : uFL connector P13  Battery backup for Hot start : 3V coin cell    GPIO46 should be set to high as Default state for the GPS module to function    Keep the GPS antenna under open sky for better operations and depending on whether GPS module had a cold, warm or hot start, GPS fix LED will soon start blinking at 1Hz.", 
            "title": "GPS section"
        }, 
        {
            "location": "/#getting-started", 
            "text": "Setting up the system   Place 3V coin cell(supplied with VIBE) in the holder for RTC and/or Navika hot start feature.  Place a data enabled mini-SIM in the SIM card slot and connect a GSM antenna to the respective 2G/3G antenna connector.  Ensure that the power jumpers J2 and J3(ignore if battery feature present) on VIBE are in place and eeprom address set at 0x54 using dip switch S7  Power up VIBE using the 5V,5A DC adapter(supplied with VIBE).  After powering up and bootup, ssh into VIBE by any of the following option  :   a. Through 3.3V UART to USB cable at either of UART0 headers.  b. Through Ethernet Cable (at IP 192.168.1.150 for preflashed eMMC images)  c. Through HDMI monitor and USB keyboard (when HDMI feature present)  Username for root login is root and password is root. For user login, username is debian and password is temppwd.  a. Through 3.3V UART to USB cable  This gives debug-console access to VIBE. Once login prompt comes, use the above provided username and password to login. These cables are available as an accessory on Yantrr (USB UART adapter with jumper wires) \n and further options are also listed here.  Download link for Windows drivers for the adapter -  click here  b. Through Ethernet cable  Pre-flashed image on the emmc has the fixed IP address as 192.168.1.150 with gateway 192.168.1.1 SSH into VIBE over ethernet :      ssh -l root 192.168.1.150  For more help please  follow.  c. Through HDMI Display and USB Keyboard  This option is available for use in VIBE with HDMI option. Default VIBE comes without HDMI configuration.  To ssh into VIBE using this method, a micro HDMI to HDMI cable (click here), a display with HDMI port and a USB Keyboard is needed. Setup the VIBE with the micro HDMI to HDMI cable, Display and USB keyboard before powering it up. Once VIBE starts booting, a login prompt comes within some time. Use the username and password as provided above to login.  After logging into VIBE, we have to set some GPIOs and effect some configurations so that it can be used desirably. In pre-flashed image, all these settings are pre defined and configured once VIBE boots up successfully.  The set of commands executed at bootup in pre-flashed image are in this file :      cd ~\n    nano boot_run.sh  Basically after logging into the VIBE, GPIOs 44, 45 and 46 have to be set high as output.      cd /sys/class/gpio/\n    echo 44   export\n    echo 45   export\n    echo 46   export\n    cd gpio44\n    echo \u201chigh\u201d   direction\n    cd ..\n    cd gpio45\n    echo \u201chigh\u201d   direction\n    cd ..\n    cd gpio46\n    echo \"high\"   direction  NOTE :  In pre-flashed image, for ease of use of regular commands with the GPIOs, functions have been created: pinexp, setout, setin, pinread.      pinexp 45          //export gpio45 to userspace\n    pinread 45         //read value of gpio45\n    setin 45           //set gpio45 in input mode\n    setout 45 high     //set gpio45 in output mode as high value\n    setout 45 low      //set gpio45 in output mode as low value  Power On Modem   For 2GQ-A,2GP-A,3GH-A/B/C and 3GC-A types :   Modem can be powered on by providing a low level pulse at ON/OFF Pin for 3-4s when the module is off. It can be achieved by either using the push button switch S4 or GPIO45.  GPIO45 should always be in default High state.    3G Modems are configured to be turned on after bootup in pre-flashed image or sd card image provided by us. 2G modems need to be issued a Power-On cycle.  cd /sys/class/gpio/\necho 45   export\ncd gpio45\necho \"high\"   direction\nsleep 4\necho \"low\"   direction\nsleep 4\necho \"high\"   direction    After some time, LED D15 should start blinking as to indicate modem has turned on (this feautre is optional in 3GH-A/B/C and 3GC-A modules).    For 3GH-D type :     For complete instructions for 3GH-D type of modems  please follow.  Following sections are for 3G modem only (for 2G skip to next section) :  Once 3G Modem is properly turned on, check that modem is visible on the USB bus by issuing following command:      lsusb\n    Bus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\n    Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n    Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n    Bus 001 Device 034: ID 21f5:2012 \n    Bus 001 Device 007: ID 046d:0825 Logitech, Inc. Webcam C270  * System messages (logs) show what happened when 3G modem was turned on and its drivers were assigned 8      dmesg | grep -i usb\n\n    usb 1-1.1: New USB device found, idVendor=21f5, idProduct=2012\n    usb 1-1.1: New USB device strings: Mfr=3, Product=2, SerialNumber=4\n    usb 1-1.1: Product: StrongRising Technologies\n    usb 1-1.1: Manufacturer: Modem\n    usb 1-1.1: SerialNumber: 000000000002\n    usb 1-1.1: usb_probe_device\n    usb 1-1.1: configuration #1 chosen from 1 choice\n    usb 1-1.1: adding 1-1.1:1.0 (config #1, interface 0)\n    usbserial_generic 1-1.1:1.0: usb_probe_interface\n    usbserial_generic 1-1.1:1.0: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.0: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.0: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.0: generic converter detected\n    usb 1-1.1: generic converter now attached to ttyUSB0\n    usb 1-1.1: adding 1-1.1:1.1 (config #1, interface 1)\n    usbserial_generic 1-1.1:1.1: usb_probe_interface\n    usbserial_generic 1-1.1:1.1: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.1: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.1: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.1: generic converter detected\n    usb 1-1.1: g'''eneric converter now attached to ttyUSB1'''\n    usb 1-1.1: adding 1-1.1:1.2 (config #1, interface 2)\n    usbserial_generic 1-1.1:1.2: usb_probe_interface\n    usbserial_generic 1-1.1:1.2: usb_probe_interface - got id\n    usbserial_generic 1-1.1:1.2: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n    usbserial_generic 1-1.1:1.2: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n    usbserial_generic 1-1.1:1.2: generic converter detected\n    usb 1-1.1: '''generic converter now attached to ttyUSB2'''  When usi ng Default debian image without USB drivers for 3G modem, issue following command:      modprobe usbserial vendor=0x21f5 product=0x2012  It is recommended to add a proper driver for the modem in kernel. The generic driver is not reliable.  Note :  If the modem is not visible after the these steps, please cycle through the turn on-off procedure for the modem  Note :  If the modem is not visible after these steps or any issues are faced while initializing the modem please contact Yantrr Support (support@yantrr.com) with the above log messages (dmesg | grep \u2013I usb or /var/log/syslog).", 
            "title": "Getting started"
        }, 
        {
            "location": "/#understanding-the-ports-for-2g-modem-on-vibe-2g", 
            "text": "The 2G modem on VIBE-2G OR VIBE-2G-GPS/TIM board is interfaced via UART1.  The 2G modem is accessible over the UART1 port, /dev/ttyO1.  In default Debian images, UART1 port's device tree has to be loaded into the kernel using the following command :      cd /lib/firmware\n    echo BB-UART1   /sys/devices/bone-capemgr.*/slots  All the AT Commands can be issued to the 2G modem on ttyO1 port with the baud rate of 115200, 8N1. The UART port of modem is available at one instant only, either it is establishing ppp connection or AT commands are executed on it.", 
            "title": "Understanding the ports for 2G Modem on VIBE-2G"
        }, 
        {
            "location": "/#understanding-the-ports-for-3g-modem-on-vibe-3g", 
            "text": "The 3G modem on VIBE-3G OR VIBE-3G-GPS/TIM board is interfaced via USB2.0 HS to USB1 host port.  VIBE-3GH-A/B/C and 3GC-A modmes enumerate following serial to USB ports when proper USB drivers are present:      /dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2   ttyUSB0 is Data port   AT commands for modem, use this for the WVDIAL or PPPd to establish data connection  ttyUSB1 is the diagnostics port for the Firmware upgrade  ttyUSB2 is the AT Commands port only.    Note : These /dev/ttyUSB ports are only created if proper drivers are present or when \u201cmodprobe usbserial\u201d command is issued. Pre-flashed image includes all the USB drivers.  Note :  Both ttyUSB0 and ttyUSB2 take the AT commands, but ttyUSB0 port is also a Data communications port so for all intended purposes of issuing AT commands use ttyUSB2 port(PCUI port).  Power Off Modem  The modem can be powered off by providing a low level pulse at ON/OFF pin for 3-4s when the module is On. It can be achieved by either using the push button switch S4 or GPIO45.      cd /sys/class/gpio/\n    echo 45   export\n    cd gpio45\n    echo \"high\"   direction\n    sleep 4\n    echo \"low\"   direction\n    sleep 4\n    echo \"high\"   direction  Modem can also be turned off by issuing following AT commands on port /dev/ttyUSB2 for 3GH-A/B/C type modems.      AT+ZPWROFF  Soft Resetting the Modem  Steps -   Power Off the Modem.  Wait for 1-2s at least.  Power on the modem.    Hard Resetting the Modem  There might arise situations where modem does not seem to be responding to any commands issued on AT commands port or it cannot be turned on/off. In such scenarios, issue hard reset to the modem. It can be done by either toggling Switch S5 for at least 100ms or pulling GPIO44 low for 1s and then setting it high again.      cd /sys/class/gpio/\n    cd gpio44\n    echo \"low\"   direction\n    sleep 1\n    echo \"high\"   direction  Note :  Please use hard reset conservatively. Soft reset should be preferred under most conditions.   3GH-D modems  For detailed instructions wrt 3GH-D type of modems  please follow.", 
            "title": "Understanding the ports for 3G Modem on VIBE-3G"
        }, 
        {
            "location": "/#at-commands-manual", 
            "text": "The AT Command Manual for the 3GH-A/B/C and 3GC-A type Modules can be downloaded from  WCDMA here  The AT Command Manual for the 3GH-D Module is available on request. Contact Yantrr support.", 
            "title": "AT Commands Manual"
        }
    ]
}